<mat-toolbar color="primary">
    <h1 id="greeting">Hallo {{tokenPayload.username}}</h1>
    <p class="fill-space"></p>
    <button mat-raised-button color="secondary" (click)="onLogout()">
        Ausloggen
    </button>
</mat-toolbar>

<main>
    <agm-map [style.height]="origin && destination ? '66%' : '100%'" [zoom]="17" [latitude]="currentLatLng.lat"
        [longitude]="currentLatLng.lng" (mapClick)="onMapClick($event)" (mapReady)="onMapReady($event)">
        <agm-marker iconUrl="./assets/blue-dot.png" [latitude]="currentLatLng.lat" [longitude]="currentLatLng.lng"></agm-marker>
        <agm-marker iconUrl="./assets/blue-marker.png" *ngIf="selectedLatLng" [latitude]="selectedLatLng.lat"
            [longitude]="selectedLatLng.lng"></agm-marker>
        <agm-marker-cluster [maxZoom]="15" [imagePath]="'https://googlemaps.github.io/js-marker-clusterer/images/m'">
            <agm-marker iconUrl="./assets/red-marker.png" *ngFor="let location of locations" [latitude]="location.lat"
                [longitude]="location.lng" (markerClick)="onMarkerClick(location)"></agm-marker>
        </agm-marker-cluster>
        <agm-direction [panel]="navigationPanel" [visible]="origin && destination" [origin]="origin" [destination]="destination">
        </agm-direction>
    </agm-map>
    <div id="navigationPanelContainer">
        <div #navigationPanel></div>
        <br>
        <button mat-raised-button color="primary" (click)="onEndRoute()">
            Navigation beenden
        </button>
    </div>
</main>
